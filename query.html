<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Querying | sqlbunny</title>
    <meta name="description" content="Go codegen ORM">
    
    
    <link rel="preload" href="/assets/css/0.styles.7710add6.css" as="style"><link rel="preload" href="/assets/js/app.13a946ed.js" as="script"><link rel="preload" href="/assets/js/2.a0887a64.js" as="script"><link rel="preload" href="/assets/js/13.56898f70.js" as="script"><link rel="prefetch" href="/assets/js/10.15655284.js"><link rel="prefetch" href="/assets/js/11.07e4879e.js"><link rel="prefetch" href="/assets/js/12.e3cb10be.js"><link rel="prefetch" href="/assets/js/14.b6d8e70a.js"><link rel="prefetch" href="/assets/js/15.8543afd8.js"><link rel="prefetch" href="/assets/js/16.b2498f95.js"><link rel="prefetch" href="/assets/js/17.26a2cca2.js"><link rel="prefetch" href="/assets/js/18.14f06e9b.js"><link rel="prefetch" href="/assets/js/19.207ae34a.js"><link rel="prefetch" href="/assets/js/3.c3caf33f.js"><link rel="prefetch" href="/assets/js/4.72e890b8.js"><link rel="prefetch" href="/assets/js/5.3424fb92.js"><link rel="prefetch" href="/assets/js/6.b9f6ff9b.js"><link rel="prefetch" href="/assets/js/7.2acfa9a7.js"><link rel="prefetch" href="/assets/js/8.44ad3fdf.js"><link rel="prefetch" href="/assets/js/9.296e7184.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7710add6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">sqlbunny</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">SQLBunny</a></li><li><a href="/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/types.html" class="sidebar-link">Types</a></li><li><a href="/stdtypes.html" class="sidebar-link">Standard types</a></li><li><a href="/models.html" class="sidebar-link">Models</a></li><li><a href="/query.html" class="active sidebar-link">Querying</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/query.html#starters" class="sidebar-link">Starters</a></li><li class="sidebar-sub-header"><a href="/query.html#query-mods" class="sidebar-link">Query mods</a></li><li class="sidebar-sub-header"><a href="/query.html#finishers" class="sidebar-link">Finishers</a></li><li class="sidebar-sub-header"><a href="/query.html#model-functions" class="sidebar-link">Model functions</a></li><li class="sidebar-sub-header"><a href="/query.html#slice-functions" class="sidebar-link">Slice functions</a></li></ul></li><li><a href="/query-bind.html" class="sidebar-link">Query binding</a></li><li><a href="/query-logging.html" class="sidebar-link">Query logging</a></li><li><a href="/relationships.html" class="sidebar-link">Relationships</a></li><li><a href="/transactions.html" class="sidebar-link">Transactions</a></li><li><a href="/plugin-migration.html" class="sidebar-link">Migrations</a></li><li><a href="/plugin-bunnyid.html" class="sidebar-link">BunnyID plugin</a></li><li><a href="/plugin-hooks.html" class="sidebar-link">Hooks plugin</a></li><li><a href="/writing-plugins.html" class="sidebar-link">Writing plugins</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="querying"><a href="#querying" aria-hidden="true" class="header-anchor">#</a> Querying</h1> <p>To run a query, you have to <a href="#starters">start</a> it, specify some <a href="#query-mods">query mods</a>, and then execute the desired action using one of the available <a href="#finishers">finishers</a>.</p> <h2 id="starters"><a href="#starters" aria-hidden="true" class="header-anchor">#</a> Starters</h2> <p>Starter methods are generated for each model, named after the plural. For example, <code>models.Books()</code>.</p> <div class="language-go extra-class"><pre class="language-go"><code>models<span class="token punctuation">.</span><span class="token function">Books</span><span class="token punctuation">(</span>qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;id=?&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">All</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><p>You can also use <code>models.NewQuery()</code>. This allows you to specify the table name yourself, to do more advanced queries. Queries created this way can't use finishers that return model instances (such as <code>All</code> and <code>One</code>).</p> <div class="language-go extra-class"><pre class="language-go"><code>models<span class="token punctuation">.</span><span class="token function">NewQuery</span><span class="token punctuation">(</span>
    qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;id=?&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Bind</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token operator">&amp;</span>objs<span class="token punctuation">)</span>
</code></pre></div><h2 id="query-mods"><a href="#query-mods" aria-hidden="true" class="header-anchor">#</a> Query mods</h2> <h3 id="select"><a href="#select" aria-hidden="true" class="header-anchor">#</a> Select</h3> <p><code>Select</code> can be used to specify which columns to select.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">Select</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="from"><a href="#from" aria-hidden="true" class="header-anchor">#</a> From</h3> <p><code>From</code> specifies from which table to select. It can be used to give an alias to the table, to help with complex queries.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">From</span><span class="token punctuation">(</span><span class="token string">&quot;book AS b&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="where-wherein"><a href="#where-wherein" aria-hidden="true" class="header-anchor">#</a> Where, WhereIn</h3> <p><code>Where</code> specifies a condition used to filter rows in the <code>WHERE</code> clause. Multiple <code>Where</code> mods in the same query will be ANDed together.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;name=?&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Daniel&quot;</span><span class="token punctuation">)</span>
<span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;name=? OR name=?&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Daniel&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">)</span>
<span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;age &gt;= ? AND age &lt;= ?&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span>
</code></pre></div><p><code>WhereIn</code> generates a <code>WHERE ... IN (...)</code> clause. It is helpful to deal with variable length conditions, because the <code>?</code> is expanded to the correct number of placeholders.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">WhereIn</span><span class="token punctuation">(</span><span class="token string">&quot;weight in ?&quot;</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">)</span>
<span class="token function">WhereIn</span><span class="token punctuation">(</span><span class="token string">&quot;height in ?&quot;</span><span class="token punctuation">,</span> <span class="token number">183</span><span class="token punctuation">,</span> <span class="token number">177</span><span class="token punctuation">,</span> <span class="token number">204</span><span class="token punctuation">)</span>
<span class="token function">WhereIn</span><span class="token punctuation">(</span><span class="token string">&quot;name, age in ?&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">&quot;Tim&quot;</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">)</span> <span class="token comment">// Generates: WHERE (&quot;name&quot;,&quot;age&quot;) IN (($1,$2),($3,$4))</span>
</code></pre></div><h3 id="limit-offset"><a href="#limit-offset" aria-hidden="true" class="header-anchor">#</a> Limit, Offset</h3> <p><code>Limit</code> and <code>Offset</code> set the SQL <code>LIMIT</code> and <code>OFFSET</code> clause.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">Limit</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="orderby"><a href="#orderby" aria-hidden="true" class="header-anchor">#</a> OrderBy</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">OrderBy</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span>
<span class="token function">OrderBy</span><span class="token punctuation">(</span><span class="token string">&quot;age, height&quot;</span><span class="token punctuation">)</span>
<span class="token function">OrderBy</span><span class="token punctuation">(</span><span class="token string">&quot;age DESC, height ASC&quot;</span><span class="token punctuation">)</span>
<span class="token function">OrderBy</span><span class="token punctuation">(</span><span class="token string">&quot;user_id ASC NULLS FIRST&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="groupby"><a href="#groupby" aria-hidden="true" class="header-anchor">#</a> GroupBy</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">GroupBy</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span>
<span class="token function">GroupBy</span><span class="token punctuation">(</span><span class="token string">&quot;age, gender&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="having"><a href="#having" aria-hidden="true" class="header-anchor">#</a> Having</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">Having</span><span class="token punctuation">(</span><span class="token string">&quot;COUNT(*) &gt; ?&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="for"><a href="#for" aria-hidden="true" class="header-anchor">#</a> For</h3> <p><code>For</code> sets the SQL <code>FOR</code> clause, using for controlling locking behavior in transactions.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">For</span><span class="token punctuation">(</span><span class="token string">&quot;update nowait&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="innerjoin"><a href="#innerjoin" aria-hidden="true" class="header-anchor">#</a> InnerJoin</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">InnerJoin</span><span class="token punctuation">(</span><span class="token string">&quot;user u ON u.id = p.user_id&quot;</span><span class="token punctuation">)</span>
<span class="token function">InnerJoin</span><span class="token punctuation">(</span><span class="token string">&quot;post p ON p.user_id = u.id AND p.type = ?&quot;</span><span class="token punctuation">,</span> models<span class="token punctuation">.</span>PostTypes<span class="token punctuation">.</span>Story<span class="token punctuation">)</span>
</code></pre></div><h3 id="load"><a href="#load" aria-hidden="true" class="header-anchor">#</a> Load</h3> <p><code>Load</code> eagerly loads the models in the referred relationships. See <a href="/relationships#eager-loading">Eager loading</a>.</p> <h3 id="sql"><a href="#sql" aria-hidden="true" class="header-anchor">#</a> SQL</h3> <p><code>SQL</code> overrides the entire SQL query. When present, all other query mods will be ignored.</p> <div class="language-go extra-class"><pre class="language-go"><code>models<span class="token punctuation">.</span><span class="token function">Books</span><span class="token punctuation">(</span>qm<span class="token punctuation">.</span><span class="token function">SQL</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM book WHERE id=$1&quot;</span><span class="token punctuation">,</span> <span class="token number">1234</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="finishers"><a href="#finishers" aria-hidden="true" class="header-anchor">#</a> Finishers</h2> <p>All finishers take as a first argument a <code>context.Context</code> instance. This context must contain a reference to the DB to use, using <code>bunny.ContextWithDB</code>.</p> <h3 id="all"><a href="#all" aria-hidden="true" class="header-anchor">#</a> All</h3> <p>Returns all the matched rows in a slice. If no rows match, an empty slice is returned (it's not an error).</p> <div class="language-go extra-class"><pre class="language-go"><code>books<span class="token punctuation">,</span> err <span class="token operator">=</span> models<span class="token punctuation">.</span><span class="token function">Books</span><span class="token punctuation">(</span>
    qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;genre = ?&quot;</span><span class="token punctuation">,</span> models<span class="token punctuation">.</span>BookGenres<span class="token punctuation">.</span>Fiction<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">All</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><h3 id="one"><a href="#one" aria-hidden="true" class="header-anchor">#</a> One</h3> <p>Returns one matched row. If no rows match, <code>sql.ErrNoRows</code> is returned. If more than one row matches, <code>bunny.ErrMultipleRows</code> is returned.</p> <div class="language-go extra-class"><pre class="language-go"><code>books<span class="token punctuation">,</span> err <span class="token operator">=</span> models<span class="token punctuation">.</span><span class="token function">Books</span><span class="token punctuation">(</span>
    qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;title = ?&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Harry Potter and the Philosopher's Stone&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">One</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><h3 id="first"><a href="#first" aria-hidden="true" class="header-anchor">#</a> First</h3> <p>Returns the first matched row. If no rows match, <code>sql.ErrNoRows</code> is returned. If more than one row matches, the first row is returned (and no error is returned). The first row is defined by the query order, so if you do care about it, do specify <code>qm.OrderBy</code>.</p> <p>It is recommended to use <code>One</code> instead, unless you specifically want to tolerate multiple rows.</p> <div class="language-go extra-class"><pre class="language-go"><code>books<span class="token punctuation">,</span> err <span class="token operator">=</span> models<span class="token punctuation">.</span><span class="token function">Books</span><span class="token punctuation">(</span>
    qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;title = ?&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Harry Potter and the Philosopher's Stone&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">First</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><h3 id="count"><a href="#count" aria-hidden="true" class="header-anchor">#</a> Count</h3> <p>Returns the integer count of rows matching the mods.</p> <div class="language-go extra-class"><pre class="language-go"><code>count<span class="token punctuation">,</span> err <span class="token operator">=</span> models<span class="token punctuation">.</span><span class="token function">Books</span><span class="token punctuation">(</span>
    qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;genre = ?&quot;</span><span class="token punctuation">,</span> models<span class="token punctuation">.</span>BookGenres<span class="token punctuation">.</span>Fiction<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><h3 id="exists"><a href="#exists" aria-hidden="true" class="header-anchor">#</a> Exists</h3> <p>Returns a boolean specifying whether at least one row exists that matches the mods.</p> <div class="language-go extra-class"><pre class="language-go"><code>exists<span class="token punctuation">,</span> err <span class="token operator">=</span> models<span class="token punctuation">.</span><span class="token function">Books</span><span class="token punctuation">(</span>
    qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;title = ?&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Harry Potter and the Philosopher's Stone&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><h3 id="updatemapall"><a href="#updatemapall" aria-hidden="true" class="header-anchor">#</a> UpdateMapAll</h3> <p>Updates all rows matching the mods with the specified field values.</p> <div class="language-go extra-class"><pre class="language-go"><code>err <span class="token operator">:=</span> models<span class="token punctuation">.</span><span class="token function">Users</span><span class="token punctuation">(</span>
    qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;age &gt;= ?&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">UpdateMapAll</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> models<span class="token punctuation">.</span>M<span class="token punctuation">{</span><span class="token string">&quot;is_legal_age&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="deleteall"><a href="#deleteall" aria-hidden="true" class="header-anchor">#</a> DeleteAll</h3> <p>Deletes all rows matching the mods.</p> <div class="language-go extra-class"><pre class="language-go"><code>err <span class="token operator">:=</span> models<span class="token punctuation">.</span><span class="token function">Users</span><span class="token punctuation">(</span>
    qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;age &gt;= ?&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">DeleteAll</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><h3 id="bind"><a href="#bind" aria-hidden="true" class="header-anchor">#</a> Bind</h3> <p>Executes the query, binding the result to the given struct or slice. See <a href="/query-bind.html">binding</a> for more info.</p> <h3 id="query-queryrow-exec"><a href="#query-queryrow-exec" aria-hidden="true" class="header-anchor">#</a> Query, QueryRow, Exec</h3> <p>Executes the query and returns the raw SQL result. These functions simply mirror thir <a href="https://golang.org/pkg/database/sql/#DB" target="_blank" rel="noopener noreferrer"><code>sql.DB</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> counterparts.</p> <h2 id="model-functions"><a href="#model-functions" aria-hidden="true" class="header-anchor">#</a> Model functions</h2> <h3 id="find"><a href="#find" aria-hidden="true" class="header-anchor">#</a> Find</h3> <p>Convenience function to fetch a model instance by its primary key. Returns <code>sql.ErrNoRows</code> if not found.</p> <div class="language-go extra-class"><pre class="language-go"><code>user<span class="token punctuation">,</span> err <span class="token operator">:=</span> models<span class="token punctuation">.</span><span class="token function">FindUser</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token comment">// Finds the user with ID 12 </span>

<span class="token comment">// Equivalent to:</span>
user<span class="token punctuation">,</span> err <span class="token operator">:=</span> models<span class="token punctuation">.</span><span class="token function">Users</span><span class="token punctuation">(</span>qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;id=?&quot;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">One</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="exists-2"><a href="#exists-2" aria-hidden="true" class="header-anchor">#</a> Exists</h3> <p>Convenience function to check if a model with the given primary key exists.</p> <div class="language-go extra-class"><pre class="language-go"><code>exists<span class="token punctuation">,</span> err <span class="token operator">:=</span> models<span class="token punctuation">.</span><span class="token function">UserExists</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token comment">// Does the user with ID 12 exist?</span>

<span class="token comment">// Equivalent to:</span>
exists<span class="token punctuation">,</span> err <span class="token operator">:=</span> models<span class="token punctuation">.</span><span class="token function">Users</span><span class="token punctuation">(</span>qm<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><span class="token string">&quot;id=?&quot;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="insert"><a href="#insert" aria-hidden="true" class="header-anchor">#</a> Insert</h3> <p><code>Insert</code> inserts a model instance to the database.</p> <div class="language-go extra-class"><pre class="language-go"><code>book <span class="token operator">:=</span> <span class="token operator">&amp;</span>models<span class="token punctuation">.</span>Book<span class="token punctuation">{</span>
    ID<span class="token punctuation">:</span>        <span class="token string">&quot;574389527&quot;</span><span class="token punctuation">,</span>
    Name<span class="token punctuation">:</span>      <span class="token string">&quot;Harry Potter and the Philosopher's Stone&quot;</span><span class="token punctuation">,</span>
    CreatedAt<span class="token punctuation">:</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
err <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><p>You can explicitly specify a list of columns to be inserted. If not set, all the model columns will be inserted.</p> <div class="language-go extra-class"><pre class="language-go"><code>book <span class="token operator">:=</span> <span class="token operator">&amp;</span>models<span class="token punctuation">.</span>Book<span class="token punctuation">{</span>
    ID<span class="token punctuation">:</span>        <span class="token string">&quot;574389527&quot;</span><span class="token punctuation">,</span>
    CreatedAt<span class="token punctuation">:</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
err <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span>
    models<span class="token punctuation">.</span>BookColumns<span class="token punctuation">.</span>ID<span class="token punctuation">,</span>
    models<span class="token punctuation">.</span>BookColumns<span class="token punctuation">.</span>CreatedAt<span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="update"><a href="#update" aria-hidden="true" class="header-anchor">#</a> Update</h3> <p><code>Update</code> updates a model instance in the database.</p> <div class="language-go extra-class"><pre class="language-go"><code>book<span class="token punctuation">.</span>Name <span class="token operator">=</span> <span class="token string">&quot;SuperNiceBook&quot;</span>
err <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">Update</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><p>You can explicitly specify a list of columns to be updated. If not set, all non-primary-key columns will be updated.</p> <div class="language-go extra-class"><pre class="language-go"><code>book<span class="token punctuation">.</span>Name <span class="token operator">=</span> <span class="token string">&quot;SuperNiceBook&quot;</span>
err <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">Update</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span>
    models<span class="token punctuation">.</span>BookColumns<span class="token punctuation">.</span>Name<span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="delete"><a href="#delete" aria-hidden="true" class="header-anchor">#</a> Delete</h3> <p>Deletes the model from the database.</p> <div class="language-go extra-class"><pre class="language-go"><code>err <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><h3 id="reload"><a href="#reload" aria-hidden="true" class="header-anchor">#</a> Reload</h3> <p>If changes happen in the database and the data in the Go struct becomes outdated, you can reload it from the database using <code>Reload</code>.</p> <div class="language-go extra-class"><pre class="language-go"><code>err <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">Reload</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><h2 id="slice-functions"><a href="#slice-functions" aria-hidden="true" class="header-anchor">#</a> Slice functions</h2> <h3 id="updatemapall-2"><a href="#updatemapall-2" aria-hidden="true" class="header-anchor">#</a> UpdateMapAll</h3> <p>Updates all rows matching the mods with the specified field values.</p> <div class="language-go extra-class"><pre class="language-go"><code>err <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">UpdateMapAll</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> models<span class="token punctuation">.</span>M<span class="token punctuation">{</span><span class="token string">&quot;is_legal_age&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="reloadall"><a href="#reloadall" aria-hidden="true" class="header-anchor">#</a> ReloadAll</h3> <p>Reloads all the model instances in the slice from the database.</p> <div class="language-go extra-class"><pre class="language-go"><code>err <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">ReloadAll</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div><h3 id="deleteall-2"><a href="#deleteall-2" aria-hidden="true" class="header-anchor">#</a> DeleteAll</h3> <p>Deletes all the objects in the slice.</p> <div class="language-go extra-class"><pre class="language-go"><code>err <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">DeleteAll</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/models.html" class="prev">
          Models
        </a></span> <span class="next"><a href="/query-bind.html">
          Query binding
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.13a946ed.js" defer></script><script src="/assets/js/2.a0887a64.js" defer></script><script src="/assets/js/13.56898f70.js" defer></script>
  </body>
</html>
